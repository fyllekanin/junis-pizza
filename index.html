<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Food Orders</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 1rem;
      background-color: #fff;
      color: #000;
      transition: background-color 0.3s, color 0.3s;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 1rem;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 0.5rem;
      text-align: left;
    }
    input[type="text"], select {
      width: 100%;
      box-sizing: border-box;
    }
    .paid-row {
      background-color: #d0f5d0;
    }
    button {
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      cursor: pointer;
    }

    /* Dark mode styles */
    body.dark-mode {
      background-color: #121212;
      color: #e0e0e0;
    }
    body.dark-mode table {
      border-color: #555;
    }
    body.dark-mode th, body.dark-mode td {
      border: 1px solid #555;
    }
    body.dark-mode .paid-row {
      background-color: #2e7d32;
    }
    body.dark-mode input, body.dark-mode select {
      background-color: #1e1e1e;
      color: #e0e0e0;
      border: 1px solid #444;
    }
    #toggleDarkMode {
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <button id="toggleDarkMode">üåô Toggle Dark Mode</button>
  <h1>Order Tracker</h1>
  <table id="ordersTable">
    <thead>
      <tr>
        <th>Person</th>
        <th>Order</th>
        <th>Extras</th>
        <th>Price</th>
        <th>Paid</th>
        <th>Kontant</th>
        <th>Remove</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <button onclick="addRow()">Add Order</button>

  <script>
    const menuItems = {
      "1-Margarita ost": 105,
      "2-Vesuvio skinka": 105,
      "3-Calzone (inbakad) skinka": 105,
      "4-Pescatore tonfisk": 105,
      "5-Fungi f√§rska champinjoner": 105,
      "6-Cappricciosa skinka, f√§rska champinjoner": 110,
      "7-Hawaii skinka, ananas": 110,
      "8-Bolognese k√∂ttf√§rs": 110,
      "9-Africana ananas, banan, curry": 110,
      "10-Vegeteriana f√§rska champinjoner, f√§rsk paprika, r√∂dl√∂k,sparis, kron√§rtskockor": 120,
      "11-Caruso salami, f√§rsk paprika, r√∂dl√∂k": 120,
      "12-La Maffia stekt bacon, f√§rsk paprika, r√∂dl√∂k": 120,
      "13-Mamma mia skinka, f√§rska champinjoner, r√§kor": 120,
      "14-Tomasso skinka, r√§kor": 120,
      "15-Ciao Ciao (inbakad) fl√§skfil√©, f√§rska champinjoner, kapris, vitl√∂k": 120,
      "16-Napolitano sardeller, oliver, vitl√∂k, kapris": 120,
      "17-Quattro Stagione skinka, f√§rska champinjoner, r√§kor, musslor": 120,
      "18-Opera skinka, stekt bacon, √§gg": 120,
      "19-Gyrospizza gyros, fefferoni, valfri s√•s": 120,
      "20-Kebabpizza kebab, fefferoni, valfri s√•s": 120,
      "21-Kycklingpizza kyckling, fefferoni, valfri s√•s": 120,
      "22-Arena f√§rska champinjoner, oxfil√©,sparis, bearnaises√•s": 125,
      "23-Cacciatore gorgonzola, r√§kor, musslor": 125,
      "24-Gudfader skinka, tonfisk, oliver, f√§rsk paprika, kapris, spansk peppar": 125,
      "25-Piri Piri k√∂ttf√§rs, paprika, l√∂k, chilli, spansk peppar, champinjoner": 125,
      "26-Formaggio 4 sorters ostar": 125,
      "27-Chicken kyckling, paprika, banan, jordn√∂tter, curry, bearnaises√•s": 125,
      "28-Husetsspecial skinka, gyros eller kebab, fefferoni, valfri s√•s": 125,
      "29-Blekan fl√§skfil√©, f√§rska champinjoner, bearnaises√•s, f√§rsk paprika, r√∂dl√∂k": 130,
      "30-Parma mozzarella, ruccola, prosciutto, f√§rska tomater": 130,
      "31-Kantareller fl√§skfil√©,paprika,kantareller,l√∂k,bearnaises√•s": 130,
      "32-El Dorado fl√§skfil√©, paprika, stekt bacon, tomat, vitl√∂ksost": 130,
      "33-Gorgonzola skinka, oxfil√©, gorgonzolaost, sparis,tomater, oliver, l√∂k": 130,
      "34-Black & white fl√§skfil√©, oxfil√©, f√§rska champinjoner, bearnaises√•s": 130,
      "35-Gyrospizza-special gyros, sallad, valfris√•s": 130,
      "36-Kebabpizza-special kebab, sallad, valfris√•s": 130,
      "37-Viking special (b√•tpizza) kebab eller gyros, sallad, valfri s√•s": 130,
      "38-Halva halva 1/2 gyros, 1/2 kebab, vitl√∂ksost, l√∂k, fefferoni, pommes, valfri s√•s": 130,
      "39-Fest-Pizza kebab eller gyros, pommes, fefferoni, valfri s√•s": 130,
      "40-Castello prosciutto, kantareller, soltorkad tomat, vitl√∂ksost, olivolja, ruccola": 140,
      "41-Polo pepperoni marinerad kyckling, grillad paprika, k√∂rsb√§rstomat, vitl√∂ksost, ruccola": 140,
      "42-Fil√© oxfil√©, fl√§skfil√©, soltorkad tomat, vitl√∂ksost, ruccola": 140,
      "43-Cosa nostra oxfil√©, fl√§skfil√©, grillad n√∂tf√§rs, vitl√∂ksost, ruccola": 140,
      "44-Havet tonfisk,marinerade tigerr√§kor,gr√∂na musslor,vitl√∂ks√∂st,ruccola": 140,
      "45-PEPPERONI panpizza": 159,
      "46-NIVADA panpizza": 159,
      "47-TACOPIZZA panpizza": 159,
      "R√ÑKSALLAD": 120,
      "KEBAB- ELLER GYROSSALLAD": 120,
      "KYCKLINGSALLAD": 120,
      "TONFISKSALLAD": 120,
      "HAWAII SALLAD": 120,
      "KEBAB tallrik": 120,
      "GYROS tallrik": 120,
      "KYCKLING tallrik": 120,
      "CHICKEN NUGGETS tallrik": 120,
      "VEGETARISK tallrik": 120,
      "FALAFEL tallrik": 120,
      "KEBAB rulle": 115,
      "GYROS rulle": 115,
      "KYCKLING rulle": 115,
      "FALAFEL rulle": 115,
      "VIKINGRULLE": 100,
      "KEBAB pita": 110,
      "GYROS pita": 110,
      "KYCKLING pita": 110,
      "FALAFEL pita": 110,
      "HUSETS BURGARE": 150,
      "HALOUMI BURGARE": 140,
      "PASTA BOLOGNAISE": 120,
      "PASTA CARBONARA": 130,
      "Hallomi pasta med pesto": 140,
      "Skaldjurpasta": 160
    };

    function addRow(data = {}) {
      const tbody = document.querySelector("#ordersTable tbody");
      const row = tbody.insertRow();

      const personTd = row.insertCell();
      personTd.innerHTML = `<input type="text" value="${data.person || ''}" onchange="saveData()">`;

      const orderTd = row.insertCell();
      const select = document.createElement("select");
      const emptyOption = document.createElement("option");
      emptyOption.value = "";
      emptyOption.textContent = "";
      select.appendChild(emptyOption);

      for (const [item, price] of Object.entries(menuItems)) {
        const option = document.createElement("option");
        option.value = item;
        option.textContent = item;
        if (item === data.order) option.selected = true;
        select.appendChild(option);
      }

      select.onchange = function () {
        priceTd.querySelector("input").value = menuItems[select.value] || '';
        saveData();
      };

      orderTd.appendChild(select);

      const extrasTd = row.insertCell();
      extrasTd.innerHTML = `<input type="text" value="${data.extras || ''}" onchange="saveData()">`;

      const priceTd = row.insertCell();
      priceTd.innerHTML = `<input type="text" value="${data.price || ''}" readonly>`;

      const paidTd = row.insertCell();
      const paidCheckbox = document.createElement("input");
      paidCheckbox.type = "checkbox";
      paidCheckbox.checked = data.paid || false;
      paidCheckbox.onchange = function () {
        row.classList.toggle("paid-row", this.checked);
        saveData();
      };
      paidTd.appendChild(paidCheckbox);
      if (paidCheckbox.checked) row.classList.add("paid-row");

      const cashId = row.insertCell();
      const cashCheckbox = document.createElement("input");
      cashCheckbox.type = "checkbox";
      cashCheckbox.checked = data.cash || false;
      cashCheckbox.onchange = function () {
        saveData();
      };
      cashId.appendChild(cashCheckbox);

      const removeTd = row.insertCell();
      const removeBtn = document.createElement("button");
      removeBtn.textContent = "‚ùå";
      removeBtn.onclick = function () {
        row.remove();
        saveData();
      };
      removeTd.appendChild(removeBtn);
    }

    function saveData() {
      const data = [];
      const rows = document.querySelectorAll("#ordersTable tbody tr");
      rows.forEach(row => {
        const cells = row.children;
        data.push({
          person: cells[0].querySelector("input").value,
          order: cells[1].querySelector("select").value,
          extras: cells[2].querySelector("input").value,
          price: cells[3].querySelector("input").value,
          paid: cells[4].querySelector("input").checked,
          cash: cells[5].querySelector("input").checked
        });
      });
      localStorage.setItem("foodOrders", JSON.stringify(data));
    }

    function loadData() {
      const saved = localStorage.getItem("foodOrders");
      if (saved) {
        const data = JSON.parse(saved);
        data.forEach(row => addRow(row));
      }
    }

    function setupDarkModeToggle() {
      const button = document.getElementById('toggleDarkMode');
      button.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
      });

      // On load
      const isDark = localStorage.getItem('darkMode') === 'true';
      if (isDark) {
        document.body.classList.add('dark-mode');
      }
    }

    window.onload = function () {
      loadData();
      setupDarkModeToggle();
    };
  </script>
</body>
</html>
